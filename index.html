<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>💜 Libro Secreto para Silvia - 2513 días juntos</title>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">
<style>*{margin:0;padding:0;box-sizing:border-box}@keyframes gradientShift{0%,100%{background-position:0 50%}50%{background-position:100% 50%}}@keyframes sparkle{0%,100%{opacity:0;transform:scale(0)}50%{opacity:1;transform:scale(1)}}@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-15px)}}@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}@keyframes shimmer{0%{background-position:-1000px 0}100%{background-position:1000px 0}}@keyframes shake{0%,100%{transform:translateX(0)}10%,30%,50%,70%,90%{transform:translateX(-10px)}20%,40%,60%,80%{transform:translateX(10px)}}@keyframes floatUp{0%{transform:translateY(0) rotate(0deg);opacity:1}100%{transform:translateY(-1200px) rotate(720deg);opacity:0}}@keyframes blink{50%{border-color:transparent}}@keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-20px)}}@keyframes fadeInUp{to{opacity:1;transform:translateY(0)}from{opacity:0;transform:translateY(40px)}}@keyframes fadeInLeft{from{opacity:0;transform:translateX(-40px)}to{opacity:1;transform:translateX(0)}}body{font-family:Poppins,-apple-system,sans-serif;min-height:100vh;overflow:hidden;background:linear-gradient(135deg,#ffd1dc 0,#ffb6c1 25%,#ffc0cb 50%,#ffb3d9 75%,#ffd1dc 100%);background-size:400% 400%;animation:gradientShift 20s ease infinite}.stars{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1}.star{position:absolute;width:3px;height:3px;background:#fff;border-radius:50%;box-shadow:0 0 10px 2px rgba(255,255,255,.8);animation:sparkle 3s ease-in-out infinite}.center{position:fixed;inset:0;display:flex;justify-content:center;align-items:center;padding:20px;z-index:10}.card{width:min(550px,92vw);background:linear-gradient(145deg,rgba(255,255,255,.4),rgba(255,255,255,.25));backdrop-filter:blur(30px) saturate(180%);border-radius:35px;box-shadow:0 30px 80px rgba(255,107,157,.5),inset 0 0 20px rgba(255,255,255,.2),0 0 0 1px rgba(255,255,255,.3);padding:50px 40px;text-align:center;position:relative;overflow:hidden}.card::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.15) 50%,transparent 70%);animation:shimmer 3s infinite}.card h1{color:#fff;text-shadow:0 0 30px rgba(255,107,217,.9),0 5px 20px rgba(139,90,141,.6);font-size:clamp(1.6rem,5vw,2.2rem);font-weight:800;margin-bottom:35px;position:relative;z-index:1}input{width:100%;padding:20px;border-radius:20px;border:3px solid rgba(255,255,255,.5);text-align:center;font-size:1.8rem;background:linear-gradient(145deg,rgba(255,255,255,.4),rgba(255,255,255,.2));color:#fff;margin-bottom:30px;font-weight:700;letter-spacing:12px;transition:all .4s;box-shadow:inset 0 2px 15px rgba(139,90,141,.2),0 5px 25px rgba(255,107,217,.4);position:relative;z-index:1}input::placeholder{color:rgba(255,255,255,.7)}input:focus{outline:0;border-color:#ff6bd9;background:rgba(255,255,255,.45);box-shadow:inset 0 2px 15px rgba(139,90,141,.2),0 0 40px rgba(255,107,217,.7);transform:scale(1.02)}input.shake{animation:shake .5s}.kbd{display:grid;grid-template-columns:repeat(3,1fr);gap:15px;margin-bottom:25px;position:relative;z-index:1}.btn{border:0;border-radius:20px;padding:22px 10px;font-weight:700;cursor:pointer;color:#fff;font-size:20px;min-height:70px;transition:all .3s;position:relative;overflow:hidden;box-shadow:0 8px 30px rgba(0,0,0,.3)}.btn.ok{background:linear-gradient(135deg,#ff6bd9 0,#f093fb 50%,#ff8fab 100%);box-shadow:0 8px 30px rgba(255,107,217,.6)}.btn.ok:hover{transform:translateY(-5px) scale(1.05);box-shadow:0 15px 45px rgba(255,107,217,.8)}.btn.bad{background:linear-gradient(135deg,#ff6b6b 0,#ff8787 50%,#ffa5a5 100%);box-shadow:0 8px 30px rgba(255,107,107,.6)}.btn.bad:hover{transform:translateY(-5px) scale(1.05);box-shadow:0 15px 45px rgba(255,107,107,.8)}.toast{margin-top:20px;color:#fff;font-size:15px;font-weight:600;text-shadow:0 2px 15px rgba(139,90,141,.5);position:relative;z-index:1}.book{display:grid;grid-template-columns:1fr 1fr;width:min(1200px,94vw);height:min(750px,90vh);background:linear-gradient(145deg,#fff 0,#fff5f8 30%,#ffe6f0 60%,#ffd4e5 100%);border-radius:30px;box-shadow:0 40px 100px rgba(255,107,157,.4),inset 0 0 150px rgba(255,182,193,.15);overflow:hidden;position:relative;transform:scale(1);transition:all .6s ease}.book::before{content:'';position:absolute;top:0;left:50%;width:4px;height:100%;background:linear-gradient(to bottom,transparent 0,rgba(139,90,141,.15) 20%,rgba(139,90,141,.3) 50%,rgba(139,90,141,.15) 80%,transparent 100%);box-shadow:0 0 25px rgba(139,90,141,.3)}.book::after{content:'💕';position:absolute;top:30px;left:50%;transform:translateX(-50%);font-size:40px;opacity:.1;z-index:0}.left-page,.right-page{padding:50px 45px;overflow-y:auto;position:relative}.left-page{background:linear-gradient(to right,rgba(255,240,245,.6) 0,transparent 100%)}.right-page{display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(to left,rgba(255,240,245,.6) 0,transparent 100%)}.left-page::before,.left-page::after,.right-page::before,.right-page::after{content:'✨';position:absolute;font-size:28px;opacity:.25;animation:sparkle 4s ease-in-out infinite}.left-page::before{top:30px;left:30px}.left-page::after{bottom:30px;left:30px;animation-delay:2s}.right-page::before{top:30px;right:30px;animation-delay:1s}.right-page::after{bottom:30px;right:30px;animation-delay:3s}h2{color:#8b5a8d;font-family:'Great Vibes',cursive;font-size:52px;margin-bottom:20px;text-align:center;text-shadow:0 4px 20px rgba(139,90,141,.4);position:relative}h2::after{content:'💕';position:absolute;right:-50px;top:50%;transform:translateY(-50%);font-size:.5em;animation:pulse 2s ease-in-out infinite}.subtitle{color:#ff6b9d;font-size:19px;margin-bottom:30px;text-align:center;font-weight:700;text-shadow:0 3px 15px rgba(255,107,157,.3)}.phrase{color:#3a3a3a;font-size:19px;font-family:Georgia,serif;line-height:2.1;margin:35px 0;min-height:240px;text-align:justify;position:relative;padding:25px;background:linear-gradient(145deg,rgba(255,255,255,.7),rgba(255,255,255,.4));border-radius:25px;box-shadow:0 8px 30px rgba(139,90,141,.15),inset 0 0 30px rgba(255,255,255,.3)}.phrase::first-letter{font-size:3.5em;font-family:'Great Vibes',cursive;color:#ff6b9d;float:left;line-height:.7;margin:12px 12px 0 0;text-shadow:0 3px 15px rgba(255,107,157,.4)}.phrase.type{border-right:4px solid #ff6b9d;animation:blink .7s step-end infinite}button.btn{margin:15px 8px;padding:18px 36px;border-radius:50px;background:linear-gradient(135deg,#ff6bd9 0,#f093fb 50%,#ff8fab 100%);border:none;color:#fff;cursor:pointer;font-size:18px;transition:all .4s;font-weight:700;box-shadow:0 12px 35px rgba(255,107,217,.5),inset 0 -3px 15px rgba(139,90,141,.2);position:relative}button.btn:hover{transform:translateY(-5px) scale(1.06);box-shadow:0 18px 50px rgba(255,107,217,.7)}button.btn.lock{background:linear-gradient(135deg,#ff6b6b 0,#ff8787 50%,#ffa5a5 100%);box-shadow:0 12px 35px rgba(255,107,107,.5)}button.btn.lock:hover{box-shadow:0 18px 50px rgba(255,107,107,.7)}.name{color:#ff6b9d;font-family:'Great Vibes',cursive;font-size:80px;margin:30px 0;text-shadow:0 6px 25px rgba(255,107,157,.6),0 0 50px rgba(255,107,157,.3);animation:float 5s ease-in-out infinite}.dedication{color:#666;font-size:18px;margin-top:25px;text-align:center;font-weight:600;text-shadow:0 2px 12px rgba(0,0,0,.1)}.bear-deco{font-size:80px;margin-top:40px;animation:bounce 3s ease-in-out infinite;filter:drop-shadow(0 10px 25px rgba(139,90,141,.3));cursor:pointer;transition:transform .3s}.bear-deco:hover{transform:scale(1.3) rotate(15deg)}.heart{position:fixed;bottom:-50px;font-size:40px;color:#ff6b9d;pointer-events:none;animation:floatUp 12s ease-in-out infinite;filter:drop-shadow(0 0 20px rgba(255,107,157,.7))}.bear{position:fixed;font-size:45px;pointer-events:none;filter:drop-shadow(0 10px 25px rgba(139,90,141,.4));animation:float 10s ease-in-out infinite}.modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.85);justify-content:center;align-items:center;z-index:999;backdrop-filter:blur(10px)}.modalBox{background:linear-gradient(145deg,#ff6bd9 0,#f093fb 100%);padding:50px;border-radius:40px;text-align:center;max-width:500px;transform:scale(.7);opacity:0;transition:all .4s;box-shadow:0 40px 100px rgba(255,107,217,.8),inset 0 0 60px rgba(255,255,255,.15);border:3px solid rgba(255,255,255,.3)}.modalBox.show{transform:scale(1);opacity:1}.modalBox h2{color:#fff;margin-bottom:30px;font-size:32px;font-weight:800;text-shadow:0 4px 20px rgba(0,0,0,.3)}.modalBox p{color:rgba(255,255,255,.98);margin:20px 0;line-height:2;font-size:18px;font-weight:600}#remain{font-size:48px;color:#ffd700;font-weight:900;margin:30px 0;text-shadow:0 0 30px rgba(255,215,0,.9),0 5px 15px rgba(0,0,0,.5);letter-spacing:6px;animation:pulse 2s ease-in-out infinite}.days-counter{background:linear-gradient(145deg,rgba(255,107,157,.35),rgba(139,90,141,.25));border:3px solid rgba(255,107,157,.5);border-radius:30px;padding:32px;margin:32px 0;text-align:center;backdrop-filter:blur(20px);box-shadow:0 12px 40px rgba(139,90,141,.4),inset 0 0 40px rgba(255,255,255,.15);position:relative}.days-counter::before{content:'💕';position:absolute;top:15px;right:15px;font-size:36px;opacity:.3;animation:pulse 3s ease-in-out infinite}.days-num{font-size:120px;color:#ff6b9d;font-weight:900;text-shadow:0 6px 30px rgba(255,107,157,0.8);line-height:1;animation:pulse 4s ease-in-out infinite}.days-text{font-size:24px;color:#ff6b9d;font-weight:700;margin-top:10px;text-shadow:0 3px 15px rgba(255,107,157,0.4)}.phrase-day{font-size:16px;color:#8b5a8d;margin-top:8px;font-style:italic}.reactions-container{margin:35px 0;text-align:center}.reactions-title{font-size:17px;color:#8b5a8d;margin-bottom:20px;font-weight:700}.reactions{display:flex;justify-content:center;gap:18px;flex-wrap:wrap}.reaction-btn{background:linear-gradient(145deg,rgba(255,107,157,.35),rgba(139,90,141,.25));border:3px solid rgba(139,90,141,.5);border-radius:50%;width:65px;height:65px;font-size:30px;cursor:pointer;transition:all .4s;display:flex;align-items:center;justify-content:center;box-shadow:0 6px 20px rgba(139,90,141,.4)}.reaction-btn:hover{transform:scale(1.5) rotate(20deg);box-shadow:0 12px 40px rgba(139,90,141,.7)}.reaction-display{margin-top:25px;min-height:50px}.reaction-count{background:linear-gradient(145deg,rgba(139,90,141,.35),rgba(255,107,157,.25));padding:12px 24px;border-radius:35px;font-size:19px;margin:0 12px;display:inline-block;color:#8b5a8d;border:3px solid rgba(139,90,141,.4);font-weight:700;box-shadow:0 6px 25px rgba(139,90,141,.25)}.countdown-container{background:linear-gradient(145deg,rgba(255,107,157,.4),rgba(192,108,132,.3));border:3px solid rgba(139,90,141,.5);border-radius:35px;padding:35px;margin:35px 0;backdrop-filter:blur(20px);box-shadow:0 12px 40px rgba(139,90,141,.4)}.countdown-title{text-align:center;color:#8b5a8d;font-size:22px;margin-bottom:25px;font-weight:800;text-shadow:0 3px 15px rgba(139,90,141,.3)}.countdown-display{display:flex;justify-content:space-around;gap:15px;flex-wrap:wrap}.countdown-item{display:flex;flex-direction:column;align-items:center;background:rgba(255,255,255,.3);padding:18px 20px;border-radius:25px;box-shadow:0 6px 25px rgba(139,90,141,.25);min-width:80px}.countdown-num{font-size:42px;font-weight:900;color:#ff6b9d;text-shadow:0 4px 20px rgba(255,107,157,.6);animation:pulse 3s ease-in-out infinite}.countdown-label{font-size:13px;color:#8b5a8d;text-transform:uppercase;font-weight:800;margin-top:8px;letter-spacing:2px}.theme-btn{position:fixed;top:35px;right:35px;background:linear-gradient(145deg,rgba(255,255,255,.45),rgba(255,255,255,.3));border:3px solid rgba(255,255,255,.6);border-radius:50%;width:85px;height:85px;font-size:42px;cursor:pointer;z-index:9998;transition:all .4s;backdrop-filter:blur(25px);display:flex;align-items:center;justify-content:center;box-shadow:0 12px 45px rgba(255,107,157,.4)}.theme-btn:hover{transform:rotate(360deg) scale(1.25);box-shadow:0 18px 60px rgba(255,107,157,.6)}.modal-gallery{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.95);z-index:10000;justify-content:center;align-items:center;overflow-y:auto}.gallery-container{background:linear-gradient(145deg,#ff6bd9 0,#f093fb 100%);border-radius:40px;padding:55px;max-width:1150px;width:92%;max-height:90vh;overflow-y:auto;position:relative;box-shadow:0 40px 100px rgba(255,107,217,.8)}.gallery-close{position:absolute;top:30px;right:30px;background:rgba(255,255,255,.35);border:none;color:#fff;font-size:44px;width:70px;height:70px;border-radius:50%;cursor:pointer;transition:all .3s;display:flex;align-items:center;justify-content:center;font-weight:300}.gallery-close:hover{background:rgba(255,255,255,.55);transform:rotate(90deg) scale(1.2)}.gallery-title{text-align:center;color:#fff;margin-bottom:50px;font-size:40px;font-weight:900;text-shadow:0 4px 20px rgba(0,0,0,.3)}.gallery-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:35px}.photo-card{background:rgba(255,255,255,.25);border-radius:30px;overflow:hidden;transition:transform .4s;animation:fadeInUp .9s ease forwards;opacity:0;box-shadow:0 12px 45px rgba(0,0,0,.5);border:3px solid rgba(255,255,255,.35)}.photo-card:hover{transform:scale(1.1) translateY(-10px);box-shadow:0 25px 70px rgba(0,0,0,.7)}.photo-img{width:100%;height:260px;object-fit:cover}.photo-info{padding:30px;color:#fff}.photo-caption{font-size:19px;margin-bottom:12px;font-weight:700}.photo-date{font-size:15px;color:rgba(255,255,255,.85)}.history-list{max-height:70vh;overflow-y:auto}.history-item{background:rgba(255,255,255,.25);border-left:7px solid #ff6b9d;border-radius:22px;padding:30px;margin-bottom:25px;animation:fadeInLeft .9s ease forwards;opacity:0;box-shadow:0 10px 35px rgba(0,0,0,.4);transition:transform .3s}.history-item:hover{transform:translateX(12px)}.history-date{color:rgba(255,255,255,.9);font-size:15px;margin-bottom:18px;font-weight:700}.history-phrase{color:#fff;font-size:17px;line-height:2}::-webkit-scrollbar{width:14px}::-webkit-scrollbar-track{background:rgba(0,0,0,.15);border-radius:12px}::-webkit-scrollbar-thumb{background:linear-gradient(180deg,rgba(255,107,157,.9),rgba(139,90,141,.9));border-radius:12px;box-shadow:inset 0 0 15px rgba(0,0,0,.4)}::-webkit-scrollbar-thumb:hover{background:linear-gradient(180deg,#ff6b9d,#8b5a8d)}@media (max-width:768px){.book{grid-template-columns:1fr;height:auto;min-height:90vh}.left-page{border-right:none;border-bottom:3px solid rgba(139,90,141,.2)}.theme-btn{top:25px;right:25px;width:70px;height:70px;font-size:35px}.name{font-size:60px}.bear-deco{font-size:60px}.countdown-display{gap:10px}.countdown-item{min-width:70px;padding:12px 15px}.countdown-num{font-size:36px}.days-num{font-size:80px}}</style>

<link rel="stylesheet" href="upload.css">
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="upload.js" defer></script>
</head>
<body>
<div class="stars" id="stars"></div>
<button id="theme-toggle" class="theme-btn" onclick="toggleTheme()" title="Cambiar tema">🌸</button>
<div id="gate" class="center"><div class="card"><h1>🔐 Ingresa el PIN secreto</h1><input id="pin" type="password" maxlength="4" readonly placeholder="••••"><div class="kbd"><button class="btn ok" data-k="1">1</button><button class="btn ok" data-k="2">2</button><button class="btn ok" data-k="3">3</button><button class="btn ok" data-k="4">4</button><button class="btn ok" data-k="5">5</button><button class="btn ok" data-k="6">6</button><button class="btn ok" data-k="7">7</button><button class="btn ok" data-k="8">8</button><button class="btn ok" data-k="9">9</button><button class="btn bad" id="clear">Borrar</button><button class="btn ok" data-k="0">0</button><button class="btn ok" id="enter">Entrar</button></div><div class="toast" id="toast">Ingresa el código</div></div></div>
<div id="bookView" class="center" style="display:none"><div id="book" class="book"><div class="left-page"><h2>Mensaje secreto</h2><p class="subtitle">para mi princesa hermosa Silvia 💖</p><div class="days-counter"><div id="days-together" class="days-num">2513</div><div class="days-text">días juntos 💕</div><div class="phrase-day">Frase del día 1</div></div><p id="phrase" class="phrase">Cargando tu mensaje...</p><div class="reactions-container"><p class="reactions-title">¿Cómo te hace sentir?</p><div class="reactions"><button class="reaction-btn" onclick="addReaction('❤️')">❤️</button><button class="reaction-btn" onclick="addReaction('😍')">😍</button><button class="reaction-btn" onclick="addReaction('🥰')">🥰</button><button class="reaction-btn" onclick="addReaction('✨')">✨</button><button class="reaction-btn" onclick="addReaction('💕')">💕</button><button class="reaction-btn" onclick="addReaction('🌟')">🌟</button></div><div id="reaction-display" class="reaction-display"></div></div><button id="more" class="btn">💌 Otra frase</button><button class="btn" onclick="openHistory()">📚 Historial</button><button id="lock" class="btn lock">🔒 Cerrar libro</button></div><div class="right-page"><h1 style="color:#8b5a8d;font-size:26px;font-weight:700">Hola mi princesa hermosa</h1><h1 class="name">Silvia</h1><p class="dedication">Este libro se abre solo para ti ✨</p><div class="countdown-container"><p class="countdown-title">⏰ Próximo encuentro</p><div id="countdown" class="countdown-display"><div class="countdown-item"><span id="count-years" class="countdown-num">0</span><span class="countdown-label">años</span></div><div class="countdown-item"><span id="count-months" class="countdown-num">0</span><span class="countdown-label">meses</span></div><div class="countdown-item"><span id="count-days" class="countdown-num">0</span><span class="countdown-label">días</span></div></div></div><button class="btn" onclick="openGallery()">📸 Ver Recuerdos</button><button id="upload-photo-btn" class="btn" onclick="uploadPhotoModule.open()" style="display:none">📤 Subir Foto</button><div class="bear-deco">🧸</div></div></div></div>
<div id="modal" class="modal"><div id="modalBox" class="modalBox"><h2>⏳ Aún no es momento…</h2><p>Mi princesa Silvia 💜, el destino te revelará la próxima frase dentro de</p><div id="remain">12:00:00</div><p>horas 🌙✨</p><button class="btn ok" id="m-ok" style="margin-top:35px;width:100%;font-size:19px">💫 Aceptar</button></div></div>
<div id="gallery-modal" class="modal-gallery"><div class="gallery-container"><button class="gallery-close" onclick="closeGallery()">✕</button><h2 class="gallery-title">📸 Nuestros Recuerdos 💕</h2><div id="gallery-grid" class="gallery-grid"></div></div></div>
<div id="history-modal" class="modal-gallery"><div class="gallery-container"><button class="gallery-close" onclick="closeHistory()">✕</button><h2 class="gallery-title">📚 Historial de Frases</h2><div id="history-list" class="history-list"></div></div></div>
<audio id="background-music" loop><source src="Pablo Alboran - Donde Está El Amor ft. Jesse & Joy (Videoclip oficial).mp3" type="audio/mpeg"></audio>
<audio id="ding" src="https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3"></audio>
<script>function createStars(){const e=document.getElementById("stars");for(let t=0;t<60;t++){const t=document.createElement("div");t.className="star",t.style.left=100*Math.random()+"%",t.style.top=100*Math.random()+"%",t.style.animationDelay=3*Math.random()+"s",e.appendChild(t)}}document.addEventListener("mousemove",(e=>{if(Math.random()>.92){const t=document.createElement("div");t.style.position="fixed",t.style.left=e.clientX+"px",t.style.top=e.clientY+"px",t.style.width="5px",t.style.height="5px",t.style.borderRadius="50%",t.style.background="rgba(255,107,217,0.7)",t.style.pointerEvents="none",t.style.zIndex="9999",t.style.animation="sparkle 1s ease-out forwards",document.body.appendChild(t),setTimeout((()=>t.remove()),1e3)}})),window.addEventListener("load",(()=>{createStars()}))</script>
<script src="frases_silvia.js"></script>
<script src="app.js"></script>
</body>
</html>
