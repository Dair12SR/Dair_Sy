<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Libro secreto para mi princesa hermosa Silvia üíú</title>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<style>
:root{
  --bg1:#2a0a3d;--bg2:#611a88;--bg3:#8e44ad;
  --txt:#fff;--pink:#ff7ac8;--gold:#ffd36e;
  --panel:rgba(255,255,255,.1);--border:rgba(255,255,255,.25);
}
*{box-sizing:border-box;margin:0;padding:0}
body{
  min-height:100vh;overflow:hidden;color:var(--txt);
  font-family:"Poppins",system-ui,Segoe UI,Roboto,Arial,sans-serif;
  background:linear-gradient(135deg,var(--bg1),var(--bg2),var(--bg3));
  background-size:200% 200%;animation:bgMove 18s ease-in-out infinite;
}
@keyframes bgMove{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
.center{position:fixed;inset:0;display:grid;place-items:center;padding:20px}

/* ---------- PIN ---------- */
.card{
  width:min(480px,92vw);background:var(--panel);border:1px solid var(--border);
  backdrop-filter:blur(10px);border-radius:20px;box-shadow:0 10px 50px rgba(0,0,0,.5);
  padding:24px;text-align:center;
}
h1{color:#ffbaf4;text-shadow:0 0 8px rgba(255,255,255,.3)}
input{
  width:100%;padding:12px;border-radius:10px;border:none;margin:10px 0;
  text-align:center;font-size:1.2rem;background:rgba(255,255,255,.15);color:#fff;
}
.kbd{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
.btn{
  border:0;border-radius:10px;padding:14px 0;font-weight:700;cursor:pointer;color:#fff;
  background:linear-gradient(180deg,rgba(255,255,255,.1),rgba(255,255,255,.03));
}
.btn.ok{background:linear-gradient(90deg,#ff69b4,#ff9ed6)}
.btn.bad{background:linear-gradient(90deg,#ef4444,#f97316)}
.toast{margin-top:10px;color:#e8d8ff;font-size:14px;min-height:18px}
.shake{animation:shake .35s}
@keyframes shake{
  0%{transform:translateX(0)}20%{transform:translateX(-6px)}
  40%{transform:translateX(6px)}60%{transform:translateX(-4px)}
  80%{transform:translateX(4px)}100%{transform:translateX(0)}
}

/* ---------- LIBRO ---------- */
.scene{perspective:1800px}
.book{
  width:min(900px,94vw);height:min(520px,64vh);
  position:relative;transform-style:preserve-3d;transition:transform 1s ease;
}
.cover,.page{position:absolute;top:0;bottom:0;width:50%;transform-style:preserve-3d}
.cover.left{
  left:0;transform-origin:right center;background:linear-gradient(135deg,#3d0f5c,#5f1983);
  border-radius:18px 0 0 18px;box-shadow:inset -12px 0 30px rgba(0,0,0,.35);
}
.cover.right{
  right:0;transform-origin:left center;background:linear-gradient(135deg,#3d0f5c,#5f1983);
  border-radius:0 18px 18px 0;box-shadow:inset 12px 0 30px rgba(0,0,0,.35);
}
.page.left{
  left:0;transform-origin:right center;
  background:radial-gradient(circle at 10% 10%,#fff7e6,#ffe9c9);
  border-radius:16px 0 0 16px;border-right:1px solid #e1c48f;
}
.page.right{
  right:0;transform-origin:left center;
  background:radial-gradient(circle at 90% 10%,#fff7e6,#ffe9c9);
  border-radius:0 16px 16px 0;border-left:1px solid #e1c48f;
}
.spine{
  position:absolute;top:0;bottom:0;left:50%;width:10px;transform:translateX(-50%);
  background:linear-gradient(180deg,#f7e7b2,#ffd36e,#f7e7b2);
  box-shadow:0 0 12px rgba(0,0,0,.35);border-radius:8px;
}
.book.open .cover.left{transform:rotateY(-160deg)}
.page-inner{
  position:absolute;inset:16px;padding:22px;overflow:auto;
  background:repeating-linear-gradient(#0000,#0000 27px,rgba(0,0,0,.03) 28px,#0000 29px);
  border-radius:12px;
}
.page-title{font-family:"Great Vibes",cursive;font-size:40px;color:#9b4dff;text-shadow:0 2px 0 rgba(255,255,255,.7);text-align:center}
.subtitle{text-align:center;color:#b24dff;font-weight:700;margin-bottom:10px}
.phrase{font-family:"Great Vibes",cursive;font-size:28px;color:#5c276b;text-align:center;min-height:100px;padding:10px}
.type{border-right:2px solid rgba(92,39,107,.5);animation:blink 1s steps(2,end) infinite}
@keyframes blink{50%{border-color:transparent}}
.actions{display:flex;gap:10px;justify-content:center;margin-top:10px;flex-wrap:wrap}
.btn2{
  border:0;padding:10px 14px;border-radius:999px;font-weight:700;cursor:pointer;
  background:linear-gradient(90deg,#9b4dff,#ff7ac8);color:white;
  box-shadow:0 4px 12px rgba(155,77,255,.4);
}
.btn2.secondary{background:linear-gradient(90deg,#ff9ed6,#ffd36e);color:#5c276b}
.small{text-align:center;color:#d8c8ff;font-size:12px;margin-top:8px}

/* ---------- DECORACIONES ---------- */
.heart{position:fixed;width:20px;height:20px;background:#ff7ac8;transform:rotate(45deg);animation:float 6s infinite ease-in;z-index:1}
.heart::before,.heart::after{content:'';position:absolute;width:20px;height:20px;background:#ff7ac8;border-radius:50%}
.heart::before{top:-10px;left:0}.heart::after{left:-10px;top:0}
@keyframes float{0%{opacity:0;transform:translateY(0) rotate(45deg)}30%{opacity:1}100%{transform:translateY(-700px) rotate(45deg);opacity:0}}
.bear{position:fixed;font-size:28px;bottom:-10px;z-index:1;opacity:.9}

/* ---------- MODAL (alerta elegante) ---------- */
.modal-backdrop{
  position:fixed;inset:0;background:rgba(0,0,0,.35);backdrop-filter:blur(3px);
  display:none;align-items:center;justify-content:center;z-index:20;
}
.modal{
  width:min(420px,92vw);border-radius:16px;padding:18px 18px 14px;
  background:linear-gradient(180deg,rgba(162,118,206,.35),rgba(162,118,206,.2));
  border:1.5px solid var(--gold); box-shadow:0 18px 60px rgba(0,0,0,.5), inset 0 0 30px rgba(255,255,255,.12);
  transform:scale(.9);opacity:0;transition:.25s ease;
  position:relative; overflow:hidden; text-align:center;
}
.modal.show{transform:scale(1);opacity:1}
.modal h3{margin-bottom:6px;color:#ffe8a6;text-shadow:0 0 8px rgba(255,255,255,.3)}
.modal p{color:#f5eaff;font-size:14px;line-height:1.5}
.modal .btn3{
  margin-top:12px;border:0;border-radius:999px;padding:8px 14px;font-weight:700;cursor:pointer;
  background:linear-gradient(90deg,#ff9ed6,#ffd36e);color:#5c276b;box-shadow:0 6px 18px rgba(0,0,0,.25);
}
.modal .hearts{
  position:absolute;inset:0;pointer-events:none;opacity:.35
}
.modal .hearts::before,.modal .hearts::after{
  content:"üíñ";position:absolute;font-size:28px;animation:pop 2.4s infinite ease-in-out
}
.modal .hearts::before{left:14%;top:12%}
.modal .hearts::after{right:12%;bottom:10%;animation-delay:1.2s}
@keyframes pop{0%{transform:scale(.8);opacity:.6}50%{transform:scale(1.1);opacity:1}100%{transform:scale(.8);opacity:.6}}
</style>
</head>
<body>

<!-- M√∫sica piano -->
<audio id="music" loop preload="auto">
  <source src="https://cdn.pixabay.com/audio/2022/03/15/audio_9f023d04e5.mp3" type="audio/mpeg">
</audio>
<audio id="ding" preload="auto">
  <source src="https://cdn.pixabay.com/audio/2021/09/08/audio_be4f6c9a4d.mp3" type="audio/mpeg">
</audio>

<!-- PIN -->
<section id="gate" class="center">
  <div class="card">
    <h1>üîê Ingresa el PIN secreto</h1>
    <input id="pin" type="password" maxlength="6" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" readonly>
    <div class="kbd">
      <button class="btn" data-k="1">1</button><button class="btn" data-k="2">2</button><button class="btn" data-k="3">3</button>
      <button class="btn" data-k="4">4</button><button class="btn" data-k="5">5</button><button class="btn" data-k="6">6</button>
      <button class="btn" data-k="7">7</button><button class="btn" data-k="8">8</button><button class="btn" data-k="9">9</button>
      <button class="btn bad" id="clear">Borrar</button><button class="btn" data-k="0">0</button><button class="btn ok" id="enter">Entrar</button>
    </div>
    <div id="toast" class="toast"></div>
  </div>
</section>

<!-- Libro -->
<section id="bookView" class="center" style="display:none">
  <div class="scene">
    <div id="book" class="book">
      <div class="cover left"></div>
      <div class="cover right"></div>
      <div class="spine"></div>

      <div class="page left">
        <div class="page-inner">
          <div class="page-title">Mensaje secreto</div>
          <div class="subtitle">para mi princesa hermosa Silvia üíñ</div>
          <div id="phrase" class="phrase"></div>
          <div class="actions">
            <button id="more" class="btn2">Otra frase üíå</button>
            <button id="lock" class="btn2 secondary">Cerrar libro üîí</button>
          </div>
        </div>
      </div>

      <div class="page right">
        <div class="page-inner" style="display:flex;flex-direction:column;align-items:center;justify-content:center">
          <div class="page-title">Hola mi princesa hermosa</div>
          <div style="font-family:'Great Vibes',cursive;font-size:44px;color:#b24dff;text-shadow:0 2px 0 rgba(255,255,255,.7)">Silvia üíï</div>
          <div class="small" style="color:#7a2a8e;margin-top:10px">Este libro se abre solo para ti ‚ú®</div>
        </div>
      </div>
    </div>
  </div>
  <div class="small">Consejo: comparte este link en privado üí´</div>
</section>

<!-- Modal alerta elegante -->
<div id="modal" class="modal-backdrop" role="dialog" aria-modal="true">
  <div class="modal" id="modalBox">
    <div class="hearts"></div>
    <h3>‚è≥ A√∫n no es momento‚Ä¶</h3>
    <p id="m-desc">Mi princesa Silvia üíú, el destino te revelar√° la pr√≥xima frase dentro de <b id="remain">12:00</b> horas üåô</p>
    <button id="m-ok" class="btn3">Aceptar üí´</button>
  </div>
</div>

<script src="app.js"></script>

<!-- Importar frases externas -->
<script type="module">
  import PHRASES, { DEDICATION } from './frases_silvia.js';
  window.PHRASES = PHRASES;
  window.DEDICATION = DEDICATION;
</script>

</body>
</html>
